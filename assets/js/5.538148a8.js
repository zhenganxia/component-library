(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{436:function(e,t,o){},475:function(e,t,o){e.exports=o.p+"assets/img/loading.fc21d2e3.svg"},476:function(e,t,o){e.exports=o.p+"assets/img/imageHolder.416e91a6.svg"},478:function(e,t,o){"use strict";o(436)},498:function(e,t,o){"use strict";o.r(t);o(217);var i=o(475),s=o.n(i),a=o(476),n=o.n(a),r=o(477),l=o.n(r),h={name:"SlShowImage",props:{src:String,showZoomIcon:{type:Boolean,required:!1,default:!1},showDownload:{type:Boolean,required:!1,default:!1},showViewer:{type:Boolean,default:!1},direction:{type:String,required:!1,default:"right"},params:{type:Object,required:!1,default:function(){return{width:48,height:48}}},operation:{type:Boolean,required:!1,default:!1},allowDel:{type:Boolean,required:!1,default:!1},showBtn:{type:Boolean,default:!1},singleUse:{type:Boolean,default:!1},imageZoomSize:{type:Object,default:function(){return{width:320,height:320}}}},data:function(){return{showPopover:!1,viewer:null,done:!1,loadHasError:!1}},computed:{statusIsHealthy:function(){return this.done&&!this.loadHasError},imageSource:function(){return this.src?this.src:n.a},showImage:function(){return this.done?this.loadHasError?n.a:this.imageSource:s.a}},watch:{imageSource:{handler:function(e,t){e&&e!==t&&this.loadImage(e)},immediate:!0,deep:!0}},destroy:function(){this.viewer&&this.viewer.destroy()},methods:{loadImage:function(e){this.done=!1,this.loadHasError=!1},downloadFile:function(e){},handleImgClick:function(e){if(this.operation&&this.$emit("handleClick"),this.showViewer){var t=this;t.viewer=new l.a(e.target,{inline:!1,toggleOnDblclick:!1,url:function(){return t.src},hide:function(){t.viewer.destroy()}}),setTimeout((function(){t.viewer.show()}))}},rmImage:function(){var e=this;this.$confirm("确实要删除该图片吗？","提示",{lockScroll:!1}).then((function(){e.$emit("imageDel")}))},compputePosition:function(e,t,o,i,s){var a;switch(e){case"left":a=t-i.offsetWidth-12+"px";break;case"right":a=o+0+"px";break;case"top":case"bottom":a=t-i.offsetWidth/2+s/2+"px"}i.style.left=a},changeClass:function(e,t,o){e.classList.add(t),e.classList.remove(o)},show:function(){var e=this,t=this.$refs.imgWrap;this.src&&t&&this.done&&!this.loadHasError&&(this.showPopover=!0,this.$nextTick((function(){var o,i,s,a=t.getElementsByClassName("popover")[0],n=a.firstChild,r=e.params.boderWidth||e.params.width,l=e.params.boderHeight||e.params.height,h=t.getBoundingClientRect(),c=h.top,d=h.left,p=h.bottom,u=h.right,m=document.documentElement.clientHeight-p,f=document.documentElement.clientWidth-u,g=(a.offsetHeight-l)/2,w=a.offsetWidth+20;if("right"===e.direction||"left"===e.direction)if(c<g)o=0,i="auto",n.style.top=c+l/2+"px";else if(m<g){o="auto",i=0;var v=a.offsetHeight-m-l/2;s=v+"px",m-12<-l/2&&(s=v-9+"px")}else o=c-a.offsetHeight/2+l/2+"px",i="auto",s="50%";switch("top"!==e.direction&&"bottom"!==e.direction||e.compputePosition(e.direction,d,u,a,r),e.direction){case"top":c>a.offsetHeight?o=c-a.offsetHeight-12+"px":(o=p+12+"px",e.changeClass(a,"bottom","top"));break;case"bottom":o=m>a.offsetHeight?p+12+"px":c-a.offsetHeight-12+"px";break;case"left":d<w?(e.compputePosition("right",d,u,a),e.changeClass(a,"right","left")):e.compputePosition("left",d,u,a);break;case"right":f<w?(e.compputePosition("left",d,u,a),e.changeClass(a,"left","right")):e.compputePosition("right",d,u,a)}a.style.top=o,a.style.bottom=i,s&&(n.style.top=s)})))},hide:function(){this.showPopover=!1}}},c=(o(478),o(33)),d=Object(c.a)(h,(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",{ref:"imgWrap",staticClass:"image-wrap",style:{width:(e.params.boderWidth||e.params.width)+"px",height:(e.params.boderHeight||e.params.height)+"px"}},[o("div",{class:{border:!e.showZoomIcon,"image-main":!0},staticStyle:{width:"100%",height:"100%"}},[e._t("default"),e._v(" "),e.allowDel&&e.showBtn&&e.statusIsHealthy?o("i",{staticClass:"sl-del el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.rmImage(e.src)}}}):e._e(),e._v(" "),o("a",{directives:[{name:"show",rawName:"v-show",value:e.showDownload&&e.showBtn&&e.statusIsHealthy,expression:"showDownload && showBtn && statusIsHealthy"}],staticClass:"sl-download el-icon-download",on:{click:function(t){return e.downloadFile(e.src)}}}),e._v(" "),o("i",{directives:[{name:"show",rawName:"v-show",value:e.showZoomIcon&&e.showBtn&&e.statusIsHealthy,expression:"showZoomIcon && showBtn && statusIsHealthy"}],staticClass:"el-icon-zoom-in zoom-icon",on:{mouseenter:e.show,mouseleave:function(t){return t.stopPropagation(),e.hide.apply(null,arguments)}}}),e._v(" "),e.singleUse&&e.showBtn?o("div",{staticClass:"img-wrap-cover"}):e._e(),e._v(" "),o("img",{class:{img:!e.showZoomIcon},style:{maxWidth:(e.params.boderWidth||e.params.width)-1+"px",maxHeight:(e.params.boderHeight||e.params.height)-1+"px"},attrs:{src:e.showImage,tabindex:"0"},on:{click:e.handleImgClick,mouseenter:function(t){return t.stopPropagation(),e.show.apply(null,arguments)},mouseleave:function(t){return t.stopPropagation(),e.hide.apply(null,arguments)}}}),e._v(" "),o("div",{directives:[{name:"show",rawName:"v-show",value:e.showPopover,expression:"showPopover"}],staticClass:"popover fade in",class:e.direction},[o("div",{staticClass:"popover-content"},[o("img",{ref:e.src,style:{maxWidth:e.imageZoomSize.width+"px",maxHeight:e.imageZoomSize.height+"px"},attrs:{src:e.src}})])])],2)])}),[],!1,null,null,null);t.default=d.exports}}]);